{% for package in context.packages %}
{% capture equalsigns %}{% for count in (1..depth) %}={% endfor %}{% endcapture %}{{equalsigns}} {{ package.name }}
{{equalsigns}}= {{ package.name }}

[cols="1a,4a"]
|===

h|Description:    | {{ package.definition }}
h|Parent Package: | {{ context.name }}
h|Stereotype:     | «{{ package.stereotype }}»

|===

{% if package.classes.size > 0 %}
{{equalsigns}}= Classes

{% for klass in package.classes %}
{% capture generalizations %}{% for assoc in klass.associations | where: "member_end_type", "generalization" %}{{ assoc.member_end }} {% endfor %}{% endcapture %}
[[tab-P-{{ package_name }}-C-{{ klass.name }}]]
[cols="1a"]
|===
|*{{ klass.name }}*
|[cols="1,4",frame=none,grid=none]
!===
!{nbsp}{nbsp}{nbsp}{nbsp}Definition: ! AbstractAppearance is the abstract superclass to represent any kind of appearance objects.
!{nbsp}{nbsp}{nbsp}{nbsp}Subclass of: ! <<AbstractFeatureWithLifespan-section,AbstractFeatureWithLifespan>>
!{nbsp}{nbsp}{nbsp}{nbsp}Stereotype: !  «FeatureType»
!===
{% if klass.associations.size > 0 %}
|[cols="15,20,60",frame=none,grid=none,options="header"]
!===
!{set:cellbgcolor:#DDDDDD} *Role name* !*Target class and multiplicity*  !*Definition*
{% for assoc in klass.associations %}
{% if assoc.member_end_attribute_name.size > 0 %}
!{set:cellbgcolor:#FFFFFF} {{ assoc.member_end_attribute_name }}  !<<{{assoc.member_end}}-section,{{assoc.member_end}}>> [{{ assoc.member_end_cardinality.min }}..{{ assoc.member_end_cardinality.max }}] ! {{ assoc.definition }}
{% endif %}
{% endfor %}
!===
{% endif %}
|[cols="15,20,60",frame=none,grid=none,options="header"]
!===
!{set:cellbgcolor:#DDDDDD} *Attribute* !*Value type and multiplicity* !*Definition*
{% for attr in klass.attributes %}
!{set:cellbgcolor:#FFFFFF} {{ attr.name }}  !<<{{ attr.name }}-section,{{ attr.name }}>>  [{{attr.cardinality.min}}..{{attr.cardinality.max}}] !{{ attr.definition }}
{% endfor %}
!===
|{set:cellbgcolor:#FFFFFF} Note: Unless otherwise specified, all attributes and role names have the stereotype «Property».
|===

{% endfor %}
{% endif %}

{% if package.packages.size > 0 %}{% assign nested_depth = depth | plus: 1 %}{% include "packages", depth: nested_depth, context: package %}{% endif %}
{% endfor %}
